数据结构的对比理解

![image-20241014184348073]($%7Bimages%7D/image-20241014184348073.png)



b+树：

为什么叶子节点为双向链表？

方便范围查询，不需要回溯（磁盘io回溯太慢了）

**ps：b+树的层高决定了磁盘io的次数！**

为什么b+树非叶子节点只存索引？

因为b+树节点映射固定大小的磁盘空间，使分支更多，层高更低，减少io次数！



b+树每个叶子节点为一个页，16kb，每个页至少要有两行数据，否则将会分割



buffer pool

问题：

buffer pool如何确保内存数据安全？

听下节课





顺序磁盘io 

比较快，寻道时间忽略不计 ≈ 内存的随机io

随机磁盘io



![image-20241014212458726]($%7Bimages%7D/image-20241014212458726.png)



sql性能优化：

不要动不动就写select *， 因为性能损失严重，要什么字段就写什么字段，可以索引覆盖速度更快





最左匹配

![image-20241014220321621]($%7Bimages%7D/image-20241014220321621.png)

没有name肯定没有phonenumber



对索引的策略：

按照最左匹配原则，我们应该更多去扩展现有索引（成为组合索引），而不是另起索引，这样效率更高。



![image-20241014220634628]($%7Bimages%7D/image-20241014220634628.png)