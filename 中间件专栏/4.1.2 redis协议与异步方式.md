事务的执行原理

![image-20241011092710542]($%7Bimages%7D/image-20241011092710542.png)

lua脚本执行

可以实现redis不能实现的原子性和复杂逻辑操作

![image-20241011094620443]($%7Bimages%7D/image-20241011094620443.png)

缺点：可能破坏数据的一致性，因为没有回滚功能   



同异步连接：

![image-20241011102340013]($%7Bimages%7D/image-20241011102340013.png)

异步连接性能远高于同步连接



如何基于reactor实现异步连接

  

![image-20241011103708033]($%7Bimages%7D/image-20241011103708033.png)



为什么要将hiredis和reactor网络模型进行融合？（实现适配器）



因为需要网络模型来注册redis的读写事件

实现：

![image-20241011104249613]($%7Bimages%7D/image-20241011104249613.png)

为什么可以强转？

因为首地址一样